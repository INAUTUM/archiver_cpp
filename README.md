# archiver_cpp

–≠—Ç–æ –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–µ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ C++, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–µ –¥–ª—è —Å–∂–∞—Ç–∏—è –∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ –æ–¥–∏–Ω–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ [`libarchive`](https://www.libarchive.org/).

## üì¶ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ê—Ä—Ö–∏–≤–∞—Ü–∏—è –æ–¥–∏–Ω–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –≤ `.zip`, `.tar.gz`, `.gz`, `.7z` –∏ –¥—Ä.
- –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ –æ–¥–∏–Ω–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏–∑ –∞—Ä—Ö–∏–≤–æ–≤
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, Ctrl+C)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π

## ‚öôÔ∏è –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- [`libarchive`](https://www.libarchive.org/) (–ª–∏—Ü–µ–Ω–∑–∏—è BSD 3-Clause)
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ C++ (`<fstream>`, `<filesystem>`, `<iostream>`, `<atomic>`, `<csignal>`)

## üöÄ –°–±–æ—Ä–∫–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `libarchive` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤ —Å–∏—Å—Ç–µ–º–µ.  
–ü—Ä–∏–º–µ—Ä —Å–±–æ—Ä–∫–∏ —á–µ—Ä–µ–∑ `CMake`:

```bash
mkdir build
cd build
cmake ..
make
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```python
python generator_csv/main.py
```

–°–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç csv —Ñ–∞–π–ª –≤–µ—Å–æ–º ~3.4 –≥–±

### –ê—Ä—Ö–∏–≤–∞—Ç–æ—Ä

–í `[–Ω–∞–∑–≤–∞–Ω–∏–µ_—Ñ–∞–π–ª–∞]` –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞, –ø—Ä–∏–º–µ—Ä: `../generator_csv/large_file.csv`

–í `[–Ω–∞–∑–≤–∞–Ω–∏–µ_–∞—Ä—Ö–∏–≤–∞]` –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –ø—É—Ç—å –¥–æ –∞—Ä—Ö–∏–≤–∞, –ø—Ä–∏–º–µ—Ä: `../generator_csv/large_file.zip`, –µ—Å–ª–∏ —Ç–∞–∫–æ–π –ø–∞–ø–∫–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –æ–Ω–∞ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞.

**–ê—Ä—Ö–∏–≤–∞—Ü–∏—è**

```bash
./myapp a [–Ω–∞–∑–≤–∞–Ω–∏–µ_—Ñ–∞–π–ª–∞] [–Ω–∞–∑–≤–∞–Ω–∏–µ_–∞—Ä—Ö–∏–≤–∞]
```

**–†–∞–∑–∞—Ä—Ö–∏–≤–∞—Ü–∏—è**

```bash
./myapp e [–Ω–∞–∑–≤–∞–Ω–∏–µ_–∞—Ä—Ö–∏–≤–∞] [–Ω–∞–∑–≤–∞–Ω–∏–µ_—Ñ–∞–π–ª–∞]
```

## –ü—Ä–∏–º–µ—Ä—ã

### –ò–∑–Ω–∞—á–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª

![main_file_size](photo/file_size.png) 

### –ê—Ä—Ö–∏–≤–∞—Ü–∏—è zip

**–í–µ—Å –∞—Ä—Ö–∏–≤–∞:** 

![zip_file_size](photo/zip_size.png)

**–í—Ä–µ–º—è –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏:** 

![zip_time](photo/end_archiver.png)

### –ê—Ä—Ö–∏–≤–∞—Ü–∏—è 7z

**–í–µ—Å –∞—Ä—Ö–∏–≤–∞:**

![7z_file_size](photo/7z_size.png)

**–í—Ä–µ–º—è –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏:**

![7z_time](photo/time_7z.png)

### –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ

![interrupt](photo/ctrl_c.png)